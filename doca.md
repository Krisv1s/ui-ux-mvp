# Проектная документация
## Агрегатор цен на электронику с расчетом издержек
Сервис помогает пользователям находить электронику по лучшим ценам, учитывая все дополнительные расходы (таможня, доставка, налоги). Пользователи могут сравнивать предложения от разных поставщиков (внутри РФ и за рубежом), оформлять заказы и отслеживать их статус.
## 1. Цель проекта

---
Создать удобный инструмент для покупки электроники с прозрачным расчетом полной стоимости, включая все издержки при заказе из-за границы.
## 2. Функциональные требования
### 2.1. Управление пользователями
- Регистрация:
  - Поля: email, имя, пароль (валидация email, проверка уникальности).
- Авторизация:
  - Вход по email и паролю.

- Профиль:

  - Отображение данных пользователя (имя, email).

  - История заказов (таблица с ID, товаром, датой, статусом).

### 2.2. Каталог товаров
- Главная страница:
  - Карточки товаров: название, минимальная цена, кнопка "Купить".
  - Фильтры: по типу товара (например, "смартфоны", "ноутбуки").
  - Пагинация.

- Страница товара:

  - Таблица поставщиков:

    - Название поставщика.

    - Цена (с учетом издержек).

    - Локация (Россия / зарубеж).

    - Кнопка "Оформить заявку".

### 2.3. Оформление заказа
- Для авторизованных пользователей:

  - Модальное окно с формой:

    - Неизменяемые поля: товар, поставщик.

    - Изменяемые поля: адрес доставки, телефон.

    - Кнопки: "Отмена", "Отправить заявку".

- Для гостей:

  - Редирект на страницу авторизации при попытке оформить заказ.

## **3. Сценарии использования (Use Cases)**  
#### **3.1. Просмотр каталога**  
**Актор**: Гость/пользователь.  
**Основной поток**:  
1. Пользователь открывает главную страницу.  
2. Применяет фильтры (например, "ноутбуки").  
3. Видит список товаров с ценами.  
4. Нажимает на карточку → переходит на страницу товара.  
  

#### **3.2. Оформление заказа**  
**Актор**: Готь/пользователь.  
**Основной поток**:  
1. На странице товара выбирает поставщика → нажимает *"Оформить заявку"*.  
2. Заполняет форму (адрес, телефон).  
3. Подтверждает заказ → получает email с деталями.  
**Альтернативный поток**
1. Пользователь не авторизован, происходит редирект на страницу авторизации

#### **3.3. Просмотр заказов в профиле**  
**Актор**: Пользователь.  
**Основной поток**:  
1. Пользователь заходит в `/profile`.  
2. Видит таблицу с заказами:  
   - ID, название товара, дата, статус ("pending", "shipped", "delivered", "cancelled").  
#### **3.4. Регистрация пользователя**  
**Актор**: Гость.  
**Основной поток**:  
1. Пользователь заполняет форму и сабмитит ее.  
2. Система создает нового пользователя.
3. Выдается http only cookie с access token
**Альтернативный поток**:
1. Повторный пароль не совпал с первичным - отображается ошибка валидации формы
2. Пользователь с данной почтой существует - отображается ошибка
---

### **4. Нефункциональные требования**  
#### **4.1. Производительность**  
- Время загрузки страницы: ≤ 1.5 сек.  
- Поддержка до 5000 одновременных пользователей.  
- Оптимизация API-запросов (кеширование данных о товарах).  

#### **4.2. Сохранность данных**  
- Ежедневное резервное копирование БД.  
- Шифрование данных при передаче (HTTPS + TLS 1.3).  
- Хранение логов действий ≥ 30 дней.  

#### **4.3. Качество ПО**  
- **Тестирование**:  
  - Unit-тесты (покрытие ≥ 80%).  
  - Интеграционные тесты (проверка оформления заказа).  
  - UI-тесты (форма авторизации, модальные окна).  
- **Совместимость**:  
  - Браузеры: Chrome, Firefox, Safari (последние 2 версии).  
  - Мобильные устройства (адаптивный дизайн).  

#### **4.4. Безопасность**  
- Защита от SQL-инъекций, XSS, CSRF.  
- Ограничение попыток входа (5 попыток → блокировка на 15 мин).  
- Регулярные обновления зависимостей (раз в месяц).  

---
